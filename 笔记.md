# 配置式路由

当使用了路由配置后，约定式路由全部失效

两种方式书写umi配置：

1. 使用根目录下的文件```.umirc.js```
2. 使用根目录下的文件```config/config.js```

进行路由配置时，每个配置就是一个匹配规则，并且，每个配置是一个对象，对象中的某些属性，会直接形成Router组件的属性。

注意：

- component配置项，需要填写页面组件的路径，路径相对于pages文件夹
- 如果配置项没有exact，则会自动添加exact为true
- 每个路由配置，可以添加任何属性
- Routers属性是一个数组，数组的每一项是一个组件路径，路径相对于项目根目录，当匹配到路由后，会转而渲染该属性指定的组件，并会将component组件作为children放到匹配的组件中。


路由配置中的信息，同样可以放到约定式路由中，方式是，为约定式路由添加第一个文档注释（注释的格式时YAML），需要将注释放到最开始的位置

YAML格式
- 键值对，冒号后需要加上空格
- 如果某个属性有多个键或多个值，需要进行缩进（空格）

# 使用dva
> 官方插件集 umi-plugin-react
>文档：https://umijs.org/zh/plugin/umi-plugin-react.html

dva插件和umi整合后，将模型分为两种

1.  全局模型：所有页面通用，工程一开始启用后，模型就会加载到仓库
2.  局部模型：只能被某些页面使用，访问具体的页面时才会挂载到仓库

## 定义全局模型
在```src/models```目录下定义的js文件都会被看作时全局模型，默认情况下，模型的命名空间和文件名一致

## 定义局部模型

局部模型定义在pages文件夹或其子文件夹中，在那个文件夹定义的模型，会被该文件夹的所有页面及其子页面、以及该文件的祖先文件夹中的页面所共享。

局部模型的定义和全局模型的约定类似，需要创建一个models文件夹